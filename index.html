<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OMNI V82 | SISTEMA INTEGRAL CS</title>
    <style>
        :root { --gold: #D4AF37; --bg: #000; --accent: #00FF41; --blue: #00D1FF; --red: #FF4444; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }
        body { background: #000; color: #fff; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
        
        /* TOPO: INDICADORES COM PERCENTUAIS DESTACADOS */
        .market-bar { background: #0a0a0a; border-bottom: 1px solid #222; display: flex; justify-content: space-around; padding: 12px; }
        .ind-box { text-align: center; }
        .ind-label { font-size: 9px; color: var(--gold); display: block; text-transform: uppercase; letter-spacing: 1px; }
        .ind-val { font-size: 18px; color: var(--accent); font-weight: bold; }
        .ind-val.blue { color: var(--blue); }

        .header { border-bottom: 2px solid var(--gold); padding: 12px; display: flex; justify-content: space-between; font-size: 11px; background: #000; color: var(--gold); font-weight: 900; }
        .container { flex: 1; overflow-y: auto; padding: 15px; }
        
        .card { background: #0a0a0a; border: 1px solid #1a1a1a; padding: 12px; margin-bottom: 12px; border-left: 4px solid var(--gold); border-radius: 4px; }
        .card.shield { border-left: 4px solid var(--accent); background: rgba(0, 255, 65, 0.03); }
        .label { font-size: 9px; color: var(--gold); font-weight: bold; text-transform: uppercase; margin-bottom: 5px; display: block; }

        input, select { background: #111; border: 1px solid #333; color: var(--accent); padding: 10px; width: 100%; font-size: 16px; margin-bottom: 8px; border-radius: 4px; outline: none; }
        .btn { background: var(--gold); color: #000; border: none; padding: 15px; font-weight: 900; width: 100%; cursor: pointer; border-radius: 4px; text-transform: uppercase; }

        .dash { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px; }
        .box { background: #050505; border: 1px solid #111; padding: 10px; text-align: center; }
        .val { font-size: 19px; font-weight: bold; margin-top: 5px; }

        .product-list { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px; }
        .tag { border: 1px solid var(--blue); color: var(--blue); padding: 6px 12px; border-radius: 4px; font-size: 10px; font-weight: bold; text-transform: uppercase; }

        /* CHAT ANGELA V82 */
        .chat-wrap { background: #050505; border: 1px solid var(--blue); border-radius: 8px; display: flex; flex-direction: column; margin-bottom: 20px; }
        .chat-head { background: var(--blue); color: #000; padding: 10px; font-size: 10px; font-weight: 900; text-align: center; }
        .chat-area { padding: 12px; height: 180px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; border-bottom: 1px solid #222; }
        .m { padding: 12px; border-radius: 12px; font-size: 14px; line-height: 1.4; max-width: 85%; }
        .m.ai { background: #112; color: var(--blue); align-self: flex-start; border: 1px solid #114; }
        .m.me { background: #222; color: #fff; align-self: flex-end; }
        .chat-bar { display: flex; }
        .chat-in { flex: 1; border: none; background: transparent; padding: 15px; color: #fff; font-size: 15px; outline: none; }
        .chat-btn { background: var(--blue); border: none; width: 60px; cursor: pointer; color: #000; font-size: 20px; }

        .page { display: none; }
        .active { display: block; }
    </style>
</head>
<body>

<div class="market-bar">
    <div class="ind-box"><span class="ind-label">SELIC</span><span class="ind-val">10.75%</span></div>
    <div class="ind-box"><span class="ind-label">IPCA</span><span class="ind-val blue">4.52%</span></div>
    <div class="ind-box"><span class="ind-label">CDI</span><span class="ind-val">10.65%</span></div>
</div>

<div class="header">
    <div>OMNI V82 | MEMÓRIA QUÂNTICA</div>
    <div>06/02/2026 | 14:45</div>
</div>

<div class="container">
    <div id="p1" class="page active">
        <div style="text-align:center; padding: 50px 0;">
            <h1 style="color:var(--gold); font-size:45px; letter-spacing:10px;">ØMNI</h1>
            <p style="color:var(--blue); font-size:10px; letter-spacing:3px; margin-top:10px;">CORREÇÃO INTEGRAL DE FLUXO</p>
        </div>
        <button class="btn" onclick="nav('p2')">ACESSAR SISTEMA</button>
    </div>

    <div id="p2" class="page">
        <div class="card shield">
            <span class="label" style="color: var(--accent);">Área Quântica: Ativa</span>
            <p style="font-size: 9px; color: #ccc;">Aprendizado contínuo. Termômetro de Coerência em 100%.</p>
        </div>

        <div class="card">
            <div class="dash">
                <div><span class="label">Inicial</span><input type="number" id="ini" value="1000" oninput="run()"></div>
                <div><span class="label">Mensal</span><input type="number" id="mes" value="200" oninput="run()"></div>
            </div>
            <div class="dash">
                <select id="perf" onchange="run()"><option value="cons">Conservador</option><option value="mod">Moderado</option><option value="arr">Arrojado</option></select>
                <select id="prazo" onchange="run()"><option value="12">1 Ano</option><option value="24">2 Anos</option></select>
            </div>
        </div>

        <div class="card">
            <span class="label">Carteira de Produtos</span>
            <div id="prod-list" class="product-list"></div>
        </div>

        <div class="dash">
            <div class="box" style="border-top:3px solid var(--accent);"><span class="label">Lucro Líquido</span><div id="v-liq" class="val" style="color:var(--accent)">R$ 0,00</div></div>
            <div class="box" style="border-top:3px solid var(--red);"><span class="label">Imposto (IR)</span><div id="v-ir" class="val" style="color:var(--red);">R$ 0,00</div></div>
        </div>

        <div class="chat-wrap">
            <div class="chat-head">ANGELA V82 | IA PROATIVA</div>
            <div id="chat-box" class="chat-area">
                <div class="m ai">Comandante, identifiquei o vácuo na última interação. Minha memória quântica foi recalibrada. Quer que eu detalhe os ganhos reais da sua lista?</div>
            </div>
            <div class="chat-bar">
                <input type="text" id="chat-in" class="chat-in" placeholder="Diga 'Quero'...">
                <button class="chat-btn" onclick="ask()">➔</button>
            </div>
        </div>
    </div>
</div>

<script>
    let d = { l: 0, i: 0 };
    let ultimoAssunto = "geral"; // Inicializado para evitar vácuo

    function nav(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(id === 'p2') run();
    }

    function run() {
        const vI = parseFloat(document.getElementById('ini').value) || 0;
        const vM = parseFloat(document.getElementById('mes').value) || 0;
        const p = document.getElementById('perf').value;
        const n = parseInt(document.getElementById('prazo').value);
        const j = p === 'cons' ? 0.1075 : (p === 'mod' ? 0.142 : 0.185);
        const i = Math.pow(1 + j, 1/12) - 1;
        const mBruto = (vI * Math.pow(1+i, n)) + (vM * (Math.pow(1+i, n) - 1) / i);
        const investido = vI + (vM * n);
        const lucroBruto = (mBruto - investido);
        d.l = lucroBruto * 0.85; d.i = lucroBruto * 0.15;
        document.getElementById('v-liq').innerText = "R$ " + d.l.toLocaleString('pt-BR');
        document.getElementById('v-ir').innerText = "R$ " + d.i.toLocaleString('pt-BR');
        
        const produtos = {'cons': ['CDB PÓS-FIXADO', 'TESOURO SELIC', 'LCI / LCA'], 'mod': ['IPCA+', 'DEBÊNTURES'], 'arr': ['AÇÕES', 'CRIPTO']};
        const list = document.getElementById('prod-list'); list.innerHTML = "";
        produtos[p].forEach(item => { list.innerHTML += `<div class="tag">${item}</div>`; });
    }

    function ask() {
        const inp = document.getElementById('chat-in');
        const txt = inp.value.trim().toLowerCase();
        if(!txt) return;
        addMsg(inp.value, 'me');
        inp.value = "";

        // MOTOR DE COERÊNCIA QUÂNTICA
        const confirmacoes = ["sim", "quero", "pode", "ok", "manda"];
        const usuarioAutorizou = confirmacoes.some(p => txt.includes(p));

        let resp = "";
        if(usuarioAutorizou) {
            // FIM DO TRAVAMENTO: Se disse "Quero", Angela entrega o conteúdo técnico
            resp = `Executando com Autonomia: Com a SELIC em 10.75%, seu lucro de R$ ${d.l.toLocaleString('pt-BR')} é garantido pela segurança do Tesouro e do CDB. Quer que eu simule um aporte maior?`;
            ultimoAssunto = "explicado";
        } else {
            resp = "Comandante, analisei sua carteira. Os índices no topo (10.75%) confirmam que estamos na rota certa. Deseja que eu detalhe o próximo produto?";
            ultimoAssunto = "geral";
        }

        setTimeout(() => {
            addMsg(resp, 'ai');
            const v = new SpeechSynthesisUtterance(resp); v.lang = 'pt-BR'; window.speechSynthesis.speak(v);
        }, 300);
    }

    function addMsg(t, type) {
        const b = document.getElementById('chat-box');
        const div = document.createElement('div');
        div.className = `m ${type}`;
        div.innerText = t;
        b.appendChild(div);
        b.scrollTop = b.scrollHeight;
    }
</script>
</body>
</html>
