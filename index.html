<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S.A. SUPREMACIA | V104 DUPLA PROJE√á√ÉO</title>
    <style>
        :root { --gold: #D4AF37; --bg: #000; --accent: #00FF41; --blue: #00D1FF; --red: #FF4444; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }
        body { background: #000; color: #fff; height: 100vh; overflow-y: auto; display: flex; flex-direction: column; }
        
        .header { border-bottom: 2px solid var(--gold); padding: 10px; display: flex; justify-content: space-between; font-size: 11px; color: var(--gold); font-weight: 900; }
        .container { padding: 15px; flex: 1; display: flex; flex-direction: column; gap: 10px; }

        .top-monitor { background: #050505; border: 1px solid var(--accent); padding: 8px; border-radius: 4px; display: flex; justify-content: space-around; font-size: 10px; color: var(--accent); font-weight: bold; }

        .dash-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
        .input-card { background: #0a0a0a; border-left: 3px solid var(--gold); padding: 8px; border-radius: 4px; }
        .label { font-size: 8px; color: var(--gold); font-weight: bold; text-transform: uppercase; display: block; margin-bottom: 3px; }
        input { background: #111; border: 1px solid #333; color: var(--accent); padding: 6px; width: 100%; font-size: 14px; border-radius: 4px; outline: none; }

        .btn-calc { background: var(--gold); color: #000; border: none; padding: 12px; border-radius: 4px; font-weight: 900; cursor: pointer; text-transform: uppercase; width: 100%; margin: 5px 0; }

        /* DISTRIBUI√á√ÉO DO PORTF√ìLIO */
        .product-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
        .p-card { background: #0a0a0a; border: 1px solid var(--blue); padding: 10px; border-radius: 4px; text-align: center; }
        .p-name { font-size: 8px; color: var(--blue); font-weight: bold; display: block; text-transform: uppercase; }
        .p-percent { font-size: 14px; color: var(--accent); font-weight: 900; margin: 4px 0; }
        .p-val { font-size: 10px; color: #fff; }

        /* RESULTADOS COM PROJE√á√ÉO DE TEMPO */
        .res-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        .res-box { background: #050505; border-top: 3px solid var(--accent); padding: 10px; text-align: center; border-radius: 4px; }
        .val { font-size: 16px; font-weight: bold; color: var(--accent); }
        .sub-val { font-size: 9px; color: #888; margin-top: 2px; }

        .chat-wrap { background: #050505; border: 2px solid var(--blue); border-radius: 8px; display: flex; flex-direction: column; margin-top: auto; }
        .chat-head { background: var(--blue); color: #000; padding: 8px; font-size: 10px; font-weight: 900; text-align: center; }
        .chat-area { padding: 12px; height: 100px; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; }
        .m { padding: 8px; border-radius: 8px; font-size: 13px; }
        .m.ai { background: rgba(0, 209, 255, 0.1); color: var(--blue); align-self: flex-start; }
        .m.me { background: #222; color: #fff; align-self: flex-end; }
        
        .btn-group { display: flex; gap: 8px; padding: 10px; }
        .cmd-btn { flex: 1; padding: 12px; border: none; border-radius: 4px; cursor: pointer; font-weight: 900; text-transform: uppercase; font-size: 10px; }
    </style>
</head>
<body>

<div class="header">
    <div>üî± S.A. SUPREMACIA | V104</div>
    <div>06/02/2026 | 18:15</div>
</div>

<div class="container">
    <div class="top-monitor">
        <span>SELIC: 10.75%</span>
        <span>IPCA: 4.52%</span>
        <span id="ir-tag" style="color:var(--red)">IR: 22.5%</span>
    </div>

    <div class="dash-grid">
        <div class="input-card"><span class="label">Inicial (R$)</span><input type="number" id="ini" value="1000"></div>
        <div class="input-card"><span class="label">Mensal (R$)</span><input type="number" id="mes" value="200"></div>
        <div class="input-card"><span class="label">Tempo (Meses)</span><input type="number" id="tempo" value="12"></div>
    </div>
    
    <button class="btn-calc" onclick="recalcular()">üîÑ Executar Dupla Proje√ß√£o</button>

    <div class="product-grid" id="portfolio">
        <div class="p-card"><span class="p-name" id="n1">CDB P√≥s</span><div class="p-percent" id="pc1">--</div><div class="p-val" id="v1">R$ 0</div></div>
        <div class="p-card"><span class="p-name" id="n2">Tesouro</span><div class="p-percent" id="pc2">--</div><div class="p-val" id="v2">R$ 0</div></div>
        <div class="p-card"><span class="p-name" id="n3">LCI/LCA</span><div class="p-percent" id="pc3">--</div><div class="p-val" id="v3">R$ 0</div></div>
    </div>

    <div class="res-grid">
        <div class="res-box"><span class="label">Lucro L√≠quido Real</span><div class="val" id="res-liq">R$ 0,00</div><div class="sub-val" id="desc-pro">Com Proje√ß√£o -50%</div></div>
        <div class="res-box" style="border-top-color: var(--red);"><span class="label">Imposto (IR)</span><div class="val" style="color:var(--red);" id="res-ir">R$ 0,00</div><div class="sub-val" id="ir-perc">Al√≠quota: 22.5%</div></div>
    </div>

    <div class="chat-wrap">
        <div class="chat-head">Angela V104 | Analista de Prazo</div>
        <div id="chat-box" class="chat-area">
            <div class="m ai">Comandante S.A., pronto para projetar. <br><br><b>O tempo inserido acima definir√° o rendimento e o seu imposto.</b></div>
        </div>
        <div class="btn-group" id="actions">
            <button class="cmd-btn" style="background:var(--accent); color:#000" onclick="recalcular()">Projetar Agora</button>
        </div>
    </div>
</div>

<script>
    function recalcular() {
        const p = parseFloat(document.getElementById('ini').value);
        const pm = parseFloat(document.getElementById('mes').value);
        const t = parseInt(document.getElementById('tempo').value);
        
        // 1. DEFINIR IR POR TEMPO
        let irTaxa = 0.225;
        if(t > 24) irTaxa = 0.15;
        else if(t > 12) irTaxa = 0.175;
        else if(t > 6) irTaxa = 0.20;
        
        document.getElementById('ir-tag').innerText = `IR: ${(irTaxa*100).toFixed(1)}%`;
        document.getElementById('ir-perc').innerText = `Al√≠quota: ${(irTaxa*100).toFixed(1)}%`;

        // 2. C√ÅLCULO DE RENDIMENTO (SIMULADO C/ REGRA -50%)
        const selicAnual = 0.1075;
        const selicMensal = Math.pow(1 + selicAnual, 1/12) - 1;
        
        // M = P(1+i)^n + PM[((1+i)^n - 1) / i]
        let montanteInic = p * Math.pow(1 + selicMensal, t);
        let montanteMens = pm * ((Math.pow(1 + selicMensal, t) - 1) / selicMensal);
        let totalFinal = montanteInic + montanteMens;
        let totalInvestido = p + (pm * t);
        let lucroBruto = totalFinal - totalInvestido;
        
        // Aplicando sua regra de -50% na proje√ß√£o
        let lucroProjetado = lucroBruto * 0.5;
        let valorIR = lucroProjetado * irTaxa;
        let lucroLiquido = lucroProjetado - valorIR;

        document.getElementById('res-liq').innerText = "R$ " + lucroLiquido.toFixed(2);
        document.getElementById('res-ir').innerText = "R$ " + valorIR.toFixed(2);

        // 3. DISTRIBUI√á√ÉO PADR√ÉO (CONSERVADORA AT√â O PERFIL MUDAR)
        setDist(20, 70, 10, p);
    }

    function setDist(a, b, c, total) {
        document.getElementById('pc1').innerText = a+"%"; document.getElementById('v1').innerText = "R$ "+(total*a/100).toFixed(0);
        document.getElementById('pc2').innerText = b+"%"; document.getElementById('v2').innerText = "R$ "+(total*b/100).toFixed(0);
        document.getElementById('pc3').innerText = c+"%"; document.getElementById('v3').innerText = "R$ "+(total*c/100).toFixed(0);
    }
</script>
</body>
</html>
