<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TERMINAL S.A. | V152</title>
    <style>
        :root { --gold: #D4AF37; --bg: #000; --accent: #00FF41; --blue: #00D1FF; --red: #FF4444; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: #000; color: #fff; height: 100vh; overflow: hidden; }

        /* TELAS DE ENTRADA */
        #splash, #quiz { position: fixed; inset: 0; background: #000; z-index: 999; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; text-align: center; }
        .logo { font-size: 60px; color: var(--gold); margin-bottom: 10px; filter: drop-shadow(0 0 10px var(--gold)); }
        .btn-g { margin-top: 25px; padding: 15px 40px; border: 1px solid var(--gold); color: var(--gold); background: none; border-radius: 30px; font-weight: bold; cursor: pointer; letter-spacing: 2px; }
        .opt { width: 100%; max-width: 320px; background: #0a0a0a; padding: 16px; margin: 6px; border-radius: 8px; border: 1px solid #222; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .opt:active { background: var(--gold); color: #000; }

        /* APP PRINCIPAL */
        #main { display: none; height: 100vh; overflow-y: auto; padding-bottom: 100px; }
        .bar { padding: 12px; border-bottom: 1px solid var(--gold); display: flex; justify-content: space-between; align-items: center; font-size: 10px; background: #050505; }
        .stats { display: flex; justify-content: space-around; padding: 6px; font-size: 9px; background: #080808; border-bottom: 1px solid #111; }
        
        .box { margin: 12px; border: 2px solid var(--gold); border-radius: 12px; padding: 18px; text-align: center; background: #050505; }
        .val { font-size: 28px; font-weight: 900; color: var(--gold); }

        .inputs { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin: 0 12px; }
        .in { background: #0a0a0a; padding: 8px; border-radius: 6px; text-align: center; border: 1px solid #222; }
        .in label { font-size: 7px; color: var(--gold); display: block; font-weight: bold; margin-bottom: 2px; }
        input { width: 100%; background: none; border: none; color: #fff; text-align: center; font-size: 15px; outline: none; font-weight: bold; }

        .cards { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 6px; margin: 12px; }
        .c { border: 1px solid var(--blue); padding: 12px; border-radius: 6px; text-align: center; animation: pulse 3s infinite; background: #050505; }
        @keyframes pulse { 0%, 100% { box-shadow: 0 0 0px var(--blue); } 50% { box-shadow: 0 0 12px var(--blue); border-color: #fff; } }

        table { width: 100%; font-size: 10px; margin-top: 10px; border-collapse: collapse; }
        td, th { padding: 10px; text-align: center; border-bottom: 1px solid #111; font-weight: bold; }

        /* GR√ÅFICO REATIVO RODAP√â */
        .chart { background: #050505; border: 1px solid #222; margin: 12px; border-radius: 10px; padding: 15px; position: relative; }
        svg { width: 100%; height: 70px; overflow: visible; }
        .line { fill: none; stroke: var(--gold); stroke-width: 3; transition: 1.2s ease-in-out; filter: drop-shadow(0 0 5px var(--gold)); }
        .dot { fill: var(--gold); stroke: #fff; stroke-width: 1; transition: 1.2s ease-in-out; }
        .lbls { display: flex; justify-content: space-between; font-size: 8px; color: #555; font-weight: bold; margin-top: 8px; }
    </style>
</head>
<body>

<div id="splash">
    <div class="logo">üî±</div>
    <p style="color:var(--gold); letter-spacing:4px; font-weight:900;">S.A. SUPREMACIA</p>
    <button class="btn-g" onclick="startQuiz()">INICIAR PROTOCOLO</button>
</div>

<div id="quiz" style="display:none;">
    <div id="q-box" style="width: 100%;"></div>
</div>

<div id="main">
    <div class="bar">
        <span>üõ°Ô∏è TERMINAL S.A. | V152</span>
        <button id="top-perfil" style="background:var(--gold); border:none; padding:4px 10px; font-weight:900; font-size:9px; border-radius:4px;">CONSERVADOR</button>
    </div>
    <div class="stats">
        <span>SELIC: <b id="selic">10.75%</b></span>
        <span>IPCA: <b>4.52%</b></span>
        <span>IR: <b id="ir" style="color:var(--red)">22.5%</b></span>
    </div>

    <div class="box">
        <small style="font-size:8px; color:var(--gold); font-weight:900;">LUCRO MOLDADO (-50%)</small>
        <div class="val" id="v-mold">R$ 0,00</div>
    </div>

    <div class="inputs">
        <div class="in"><label>INICIAL</label><input type="number" id="ini" value="1000" oninput="calc()"></div>
        <div class="in"><label>MENSAL</label><input type="number" id="mes" value="200" oninput="calc()"></div>
        <div class="in"><label>MESES</label><input type="number" id="tempo" value="12" oninput="calc()"></div>
    </div>

    <div id="grid-p" class="cards"></div>

    <div style="margin:12px; background:#050505; border-radius:8px; border:1px solid #111; overflow: hidden;">
        <table>
            <thead><tr><th style="color:#444">M√™s</th><th style="color:#444">A√ß√£o</th><th style="color:#444">Stake</th></tr></thead>
            <tbody id="fav"></tbody>
        </table>
    </div>

    <div class="chart">
        <svg id="svg">
            <path id="path" class="line" d="M30,60 Q100,60 200,60" />
            <circle id="d1" class="dot" r="4" />
            <circle id="d2" class="dot" r="4" />
            <circle id="d3" class="dot" r="5" />
        </svg>
        <div class="lbls"><span>START</span><span>EVOLU√á√ÉO</span><span style="color:var(--gold)">ALVO FINAL</span></div>
    </div>
</div>

<script>
    const qs = [
        {q: "OBJETIVO?", o: ["SEGURAN√áA", "RENDA", "RIQUEZA"], v: [1,2,3]},
        {q: "ACEITA RISCO?", o: ["N√ÉO", "TALVEZ", "SIM"], v: [1,2,3]},
        {q: "TEMPO?", o: ["CURTO", "M√âDIO", "LONGO"], v: [1,2,3]}
    ];
    let step = 0, score = 0, real = 0, mold = 0, sValue = 10.75;

    function startQuiz() {
        document.getElementById('splash').style.display='none';
        document.getElementById('quiz').style.display='flex';
        showQ();
    }

    function showQ() {
        const q = qs[step];
        let h = `<h2 style="color:var(--gold); margin-bottom:30px; letter-spacing:1px;">${q.q}</h2>`;
        q.o.forEach((opt, i) => h += `<div class="opt" onclick="next(${q.v[i]})">${opt}</div>`);
        document.getElementById('q-box').innerHTML = h;
    }

    function next(v) {
        score += v; step++;
        if(step < qs.length) showQ();
        else {
            document.getElementById('quiz').style.display='none';
            document.getElementById('main').style.display='block';
            calc();
        }
    }

    function calc() {
        const i = parseFloat(document.getElementById('ini').value) || 0;
        const m = parseFloat(document.getElementById('mes').value) || 0;
        const t = parseInt(document.getElementById('tempo').value) || 1;
        const p = score > 7 ? "AGRESSIVO" : score > 4 ? "MODERADO" : "CONSERVADOR";
        document.getElementById('top-perfil').innerText = p;

        const sM = Math.pow(1 + (sValue/100), 1/12) - 1;
        let irVal = t > 24 ? 15 : t > 12 ? 17.5 : 22.5;
        document.getElementById('ir').innerText = irVal + "%";

        let inv = i + (m * t);
        let bruto = (i * Math.pow(1 + sM, t)) + (m * ((Math.pow(1 + sM, t) - 1) / sM));
        let lucro = (bruto - inv) * (1 - (irVal/100));
        
        real = inv + lucro;
        mold = inv + (lucro * 0.5);
        document.getElementById('v-mold').innerText = "R$ " + mold.toLocaleString('pt-BR', {minimumFractionDigits:2});

        // GR√ÅFICO REATIVO (Y inverte: 0 topo, 70 fundo)
        const width = document.getElementById('svg').clientWidth || 300;
        const x1 = 30, x2 = width/2, x3 = width-30;
        
        let sensibilidade = (lucro / (inv || 1));
        let y1 = 60; 
        let y2 = Math.max(10, 50 - (sensibilidade * 50)); 
        let y3 = Math.max(5, 40 - (sensibilidade * 100));

        document.getElementById('path').setAttribute("d", `M${x1},${y1} Q${x2},${y2} ${x3},${y3}`);
        document.getElementById('d1').setAttribute("cx", x1); document.getElementById('d1').setAttribute("cy", y1);
        document.getElementById('d2').setAttribute("cx", x2); document.getElementById('d2').setAttribute("cy", y2);
        document.getElementById('d3').setAttribute("cx", x3); document.getElementById('d3').setAttribute("cy", y3);

        const prod = p=="AGRESSIVO" ? ["A√á√ïES","CRIPTO","OP√á√ïES"] : p=="MODERADO" ? ["FIIs","A√á√ïES","CDB"] : ["TESOURO","CDB","LCI"];
        let hP = "";
        prod.forEach((n, idx) => {
            let valProd = (mold * [0.5, 0.3, 0.2][idx]).toLocaleString('pt-BR', {maximumFractionDigits:0});
            hP += `<div class="c"><span style="font-size:7px;color:var(--blue);font-weight:900;">${n}</span><br><b>R$ ${valProd}</b></div>`;
        });
        document.getElementById('grid-p').innerHTML = hP;

        let hF = "";
        for(let j=1; j<=3; j++) hF += `<tr><td>${t+j}</td><td style="color:var(--accent)">ENTRA</td><td>R$ ${(mold*0.01/j).toFixed(2)}</td></tr>`;
        document.getElementById('fav').innerHTML = hF;
    }

    const dV = document.getElementById('v-mold');
    const audit = (s) => { 
        dV.innerText = "R$ " + (s?real:mold).toLocaleString('pt-BR', {minimumFractionDigits:2}); 
        dV.style.color = s?"var(--accent)":"var(--gold)"; 
    };
    dV.onmousedown = () => audit(true); dV.onmouseup = () => audit(false);
    dV.ontouchstart = () => audit(true); dV.ontouchend = () => audit(false);

    setInterval(() => {
        sValue += (Math.random()*0.1 - 0.05);
        document.getElementById('selic').innerText = sValue.toFixed(2) + "%";
        calc();
    }, 4000);
</script>
</body>
</html>
