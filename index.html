<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S.A. SUPREMACIA | V101 BLINDADA</title>
    <style>
        :root { --gold: #D4AF37; --bg: #000; --accent: #00FF41; --blue: #00D1FF; --red: #FF4444; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }
        body { background: #000; color: #fff; height: 100vh; overflow-y: auto; display: flex; flex-direction: column; }
        
        .header { border-bottom: 2px solid var(--gold); padding: 12px; display: flex; justify-content: space-between; font-size: 11px; color: var(--gold); font-weight: 900; }
        .container { padding: 15px; flex: 1; display: flex; flex-direction: column; gap: 12px; }

        /* MONITOR DE TAXAS AO VIVO */
        .live-monitor { background: rgba(0, 255, 65, 0.05); border: 1px solid var(--accent); padding: 10px; border-radius: 4px; display: flex; justify-content: space-between; font-size: 10px; color: var(--accent); font-weight: bold; }

        .profile-display { background: #0a0a0a; border: 1px solid var(--gold); padding: 10px; border-radius: 4px; text-align: center; }
        .profile-badge { background: var(--gold); color: #000; padding: 3px 15px; border-radius: 20px; font-size: 10px; font-weight: 900; text-transform: uppercase; margin-top: 5px; display: inline-block; }

        .dash-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .input-card { background: #0a0a0a; border: 1px solid #1a1a1a; padding: 10px; border-left: 4px solid var(--gold); border-radius: 4px; }
        .label { font-size: 9px; color: var(--gold); font-weight: bold; text-transform: uppercase; margin-bottom: 4px; display: block; }
        input { background: #111; border: 1px solid #333; color: var(--accent); padding: 8px; width: 100%; font-size: 16px; border-radius: 4px; outline: none; }

        .btn-recalc { background: var(--gold); color: #000; border: none; padding: 15px; border-radius: 4px; font-weight: 900; cursor: pointer; text-transform: uppercase; width: 100%; transition: 0.3s; }
        .btn-recalc:hover { background: #fff; }

        /* CARTEIRA DIN√ÇMICA */
        .product-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
        .p-card { background: #0a0a0a; border: 1px solid var(--blue); padding: 10px; border-radius: 4px; text-align: center; transition: 0.5s; }
        .p-card.selected { border-color: var(--accent); box-shadow: 0 0 15px var(--accent); transform: scale(1.02); }
        .p-name { font-size: 8px; color: var(--blue); font-weight: bold; display: block; text-transform: uppercase; }
        .p-tax { font-size: 12px; font-weight: bold; color: #fff; }

        /* RESULTADOS COM REGRA -50% */
        .res-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .res-box { background: #050505; border: 1px solid #111; padding: 12px; text-align: center; border-radius: 4px; border-top: 3px solid var(--accent); }
        .val { font-size: 18px; font-weight: bold; margin-top: 5px; color: var(--accent); }

        /* CHAT ANGELA V101 */
        .chat-wrap { background: #050505; border: 2px solid var(--blue); border-radius: 8px; display: flex; flex-direction: column; margin-top: auto; }
        .chat-head { background: var(--blue); color: #000; padding: 10px; font-size: 11px; font-weight: 900; text-align: center; text-transform: uppercase; }
        .chat-area { padding: 15px; height: 180px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
        .m { padding: 12px; border-radius: 8px; font-size: 14px; line-height: 1.4; max-width: 85%; }
        .m.ai { background: rgba(0, 209, 255, 0.05); color: var(--blue); align-self: flex-start; border: 1px solid rgba(0, 209, 255, 0.2); }
        .m.me { background: #222; color: #fff; align-self: flex-end; }
        
        .btn-group { display: flex; gap: 10px; padding: 15px; background: #000; }
        .cmd-btn { flex: 1; padding: 15px; border: none; border-radius: 4px; cursor: pointer; font-weight: 900; text-transform: uppercase; }
        .btn-yes { background: var(--accent); color: #000; }
        .btn-no { background: var(--red); color: #fff; }
    </style>
</head>
<body>

<div class="header">
    <div>üî± S.A. SUPREMACIA | V101 INTEGRAL</div>
    <div>06/02/2026 | 17:45</div>
</div>

<div class="container">
    <div class="live-monitor">
        <span>SELIC: 10.75%</span>
        <span style="color:var(--gold)">|</span>
        <span>IPCA: 4.52%</span>
        <span style="color:var(--gold)">|</span>
        <span id="live-clock">17:45:00</span>
    </div>

    <div class="profile-display">
        <span class="label">Identidade do Investidor</span>
        <div id="p-tag" class="profile-badge">Mapeamento Pendente</div>
    </div>

    <div class="dash-grid">
        <div class="input-card"><span class="label">Aporte Inicial</span><input type="number" id="ini" value="1000"></div>
        <div class="input-card"><span class="label">Aporte Mensal</span><input type="number" id="mes" value="200"></div>
    </div>
    <button class="btn-recalc" onclick="recalcular()">üîÑ Recalcular Proje√ß√£o</button>

    <div class="product-grid" id="product-list">
        <div class="p-card" id="c1"><span class="p-name" id="n1">CDB P√≥s</span><span class="p-tax" id="t1">105% CDI</span></div>
        <div class="p-card" id="c2"><span class="p-name" id="n2">Tesouro</span><span class="p-tax" id="t2">SELIC</span></div>
        <div class="p-card" id="c3"><span class="p-name" id="n3">LCI / LCA</span><span class="p-tax" id="t3">92% CDI</span></div>
    </div>

    <div class="res-grid">
        <div class="res-box"><span class="label">Lucro L√≠quido (Regra -50%)</span><div class="val" id="res-liq">R$ 0,00</div></div>
        <div class="res-box" style="border-top-color: var(--red);"><span class="label">IR Estimado</span><div class="val" style="color:var(--red);" id="res-ir">R$ 0,00</div></div>
    </div>

    <div class="chat-wrap">
        <div class="chat-head">Angela V101 | Consultoria Proativa</div>
        <div id="chat-box" class="chat-area">
            <div class="m ai" id="at">Comandante S.A., sistema online. Para liberar sua carteira personalizada e recalcular o lucro real, responda: <br><br><b>1. Voc√™ j√° possui reserva de emerg√™ncia (6 meses)?</b></div>
        </div>
        <div class="btn-group" id="btn-container">
            <button class="cmd-btn btn-yes" onclick="exec('Sim')">Sim</button>
            <button class="cmd-btn btn-no" onclick="exec('N√£o')">N√£o</button>
        </div>
    </div>
</div>

<script>
    let step = 0; let score = 0;
    const questions = [
        "1. Possui reserva de emerg√™ncia?", "2. Aceita oscila√ß√µes para ganhar mais?",
        "3. Seu foco √© para mais de 5 anos?", "4. Conhece A√ß√µes ou Criptomoedas?",
        "5. Pretende fazer aportes mensais?", "6. Seguran√ßa √© sua maior prioridade?"
    ];

    // ATUALIZA√á√ÉO DO REL√ìGIO
    setInterval(() => { document.getElementById('live-clock').innerText = new Date().toLocaleTimeString(); }, 1000);

    function recalcular() {
        const i = parseFloat(document.getElementById('ini').value);
        const m = parseFloat(document.getElementById('mes').value);
        // Regra de lucro simplificada + Redu√ß√£o de 50% (Sua regra salva)
        let lucroBruto = (i + (m * 12)) * 0.1075; 
        let lucroSeguro = lucroBruto * 0.5;
        document.getElementById('res-liq').innerText = "R$ " + lucroSeguro.toFixed(2);
        document.getElementById('res-ir').innerText = "R$ " + (lucroSeguro * 0.15).toFixed(2);
    }

    function exec(opt) {
        addMsg(opt, 'me');
        if(opt === 'Sim') score++;
        step++;
        setTimeout(() => {
            if(step < questions.length) {
                addMsg(questions[step], 'ai');
            } else {
                finalizarOnboarding();
            }
        }, 400);
    }

    function finalizarOnboarding() {
        let perfil = "Conservador";
        if(score >= 5) {
            perfil = "Agressivo";
            document.getElementById('n1').innerText = "A√ß√µes (DIV)";
            document.getElementById('n3').innerText = "Cripto/ETF";
            document.getElementById('c3').classList.add('selected');
        } else if(score >= 3) {
            perfil = "Moderado";
            document.getElementById('t1').innerText = "115% CDI";
            document.getElementById('c1').classList.add('selected');
        } else {
            document.getElementById('c2').classList.add('selected');
        }
        
        document.getElementById('p-tag').innerText = perfil;
        addMsg(`Perfil **${perfil}** tra√ßado com sucesso. Carteira calibrada. O que deseja fazer a seguir?`, "ai");
        
        // DESTRUI√á√ÉO DOS BOT√ïES SIM/N√ÉO PARA MATAR O LOOP
        document.getElementById('btn-container').innerHTML = `
            <button class="cmd-btn" style="background:var(--blue); color:#000" onclick="addMsg('Simulando Aporte no Ativo Principal...', 'ai')">üöÄ Simular Aporte</button>
            <button class="cmd-btn" style="background:var(--gold); color:#000" onclick="addMsg('Auditando Taxas SELIC/IPCA ao vivo...', 'ai')">‚öñÔ∏è Auditar Taxas</button>
        `;
        recalcular();
    }

    function addMsg(t, type) {
        const b = document.getElementById('chat-box');
        const div = document.createElement('div');
        div.className = `m ${type}`; div.innerHTML = t;
        b.appendChild(div); b.scrollTop = b.scrollHeight;
    }
    recalcular();
</script>
</body>
</html>
