<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>OMNI V48 | EXPLICIT PROFIT</title>
    <style>
        :root { --gold: #D4AF37; --bg: #000; --accent: #00FF41; --blue: #00D1FF; --card: #0a0a0a; --border: #1a1a1a; --tax-red: #ff4444; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Times New Roman', serif; }
        body, html { background: #000; color: #fff; height: 100vh; overflow: hidden; }
        
        .app { width: 100%; height: 100%; display: flex; flex-direction: column; }
        .page { display: none; width: 100%; height: 100%; padding: 20px; flex-direction: column; overflow-y: auto; background: #000; }
        .active { display: flex !important; }

        .status-bar { display: flex; justify-content: space-between; font-size: 10px; color: var(--blue); letter-spacing: 1px; padding: 15px; border-bottom: 1px solid #222; }
        .live-tag { color: var(--accent); font-family: monospace; font-weight: bold; }

        .brand { text-align: center; margin: 20px 0; }
        .logo { font-size: 40px; font-weight: 900; letter-spacing: 10px; color: var(--gold); }
        
        .card-exec { background: var(--card); border: 1px solid var(--border); padding: 18px; margin-bottom: 12px; border-left: 3px solid var(--gold); }
        .label-gold { font-size: 10px; color: var(--gold); font-weight: bold; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 5px; display: block; }

        .btn-gold { width: 100%; padding: 20px; background: var(--gold); color: #000; border: none; font-weight: 900; font-size: 13px; letter-spacing: 2px; cursor: pointer; margin-top: 5px; }
        .btn-option { width: 100%; padding: 15px; background: transparent; border: 1px solid var(--border); color: #fff; margin-bottom: 8px; text-align: left; cursor: pointer; }

        .term-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
        .term-box { background: #050505; border: 1px solid #111; padding: 10px; text-align: center; }
        
        input, select { background: #111; border: 1px solid var(--border); color: #fff; padding: 12px; width: 100%; font-size: 20px; outline: none; text-align: center; font-weight: bold; }
        
        .val-total { font-size: 26px; font-weight: bold; color: var(--accent); }
        .profit-item { font-size: 11px; color: var(--accent); margin-top: 4px; display: block; }
        .initial-item { font-size: 11px; color: #888; display: block; }
    </style>
</head>
<body>

<div class="app">
    <div id="p1" class="page active">
        <div class="status-bar"><div><span class="live-tag">●</span> SISTEMA ONLINE</div><div>V48 | SECURE</div></div>
        <div class="brand"><h1 class="logo">ØMNI</h1></div>
        <button class="btn-gold" onclick="nav('p2')">INICIAR PROTOCOLO</button>
    </div>

    <div id="p2" class="page">
        <span class="label-gold" style="text-align:center;">Diligência de Alocação</span>
        <button class="btn-option" onclick="setPerfil('cons')"><b>01. CONSERVADOR</b><br><small>Foco em Segurança e Selic</small></button>
        <button class="btn-option" onclick="setPerfil('mod')"><b>02. MODERADO</b><br><small>Hedge Inflacionário (IPCA)</small></button>
        <button class="btn-option" onclick="setPerfil('arr')"><b>03. ARROJADO</b><br><small>Maximização de Equity</small></button>
    </div>

    <div id="p3" class="page">
        <div class="status-bar">
            <div>SELIC: <span id="s-val" class="live-tag">10.75%</span></div>
            <div>IPCA: <span id="i-val" class="live-tag" style="color:var(--tax-red)">4.50%</span></div>
            <div style="color:var(--blue)">REAL-TIME</div>
        </div>
        
        <div class="card-exec">
            <span class="label-gold">Capital Principal (R$)</span>
            <input type="number" id="val" value="500" oninput="calc()">
        </div>

        <div class="term-grid">
            <div class="term-box">
                <span class="label-gold" style="font-size:7px;">Prazo</span>
                <select id="meses" onchange="calc()">
                    <option value="6">06 Meses</option>
                    <option value="12">12 Meses</option>
                    <option value="24">24 Meses</option>
                    <option value="36">36 Meses</option>
                </select>
            </div>
            <div class="term-box">
                <span class="label-gold" style="font-size:7px;">Montante Líquido Final</span>
                <div id="res-final" class="val-total">R$ 0,00</div>
                <div id="profit-total" style="color:var(--blue); font-size:10px; font-weight:bold;">Lucro Total: R$ 0,00</div>
            </div>
        </div>

        <div class="card-exec">
            <span class="label-gold">Relatório Detalhado por Ativo</span>
            <div id="dist-list"></div>
        </div>

        <button class="btn-gold" style="background:#111; color:var(--gold); border:1px solid var(--gold)" onclick="location.reload()">REINICIAR</button>
    </div>
</div>

<script>
    let perfil = "";
    function nav(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function marketPulse() {
        setInterval(() => {
            let s = (10.75 + (Math.random() * 0.04 - 0.02)).toFixed(2);
            let i = (4.50 + (Math.random() * 0.02 - 0.01)).toFixed(2);
            document.getElementById('s-val').innerText = s + "%";
            document.getElementById('i-val').innerText = i + "%";
        }, 4000);
    }

    function setPerfil(p) { perfil = p; nav('p3'); calc(); }

    function calc() {
        const principalTotal = parseFloat(document.getElementById('val').value) || 0;
        const tMeses = parseInt(document.getElementById('meses').value);
        
        let taxaIR = 0.225;
        if (tMeses > 6) taxaIR = 0.20;
        if (tMeses > 12) taxaIR = 0.175;
        if (tMeses > 24) taxaIR = 0.15;

        const jAnual = perfil === 'cons' ? 0.1075 : (perfil === 'mod' ? 0.145 : 0.185);
        const taxaMensal = jAnual / 12;

        let data = perfil === 'cons' ? [['Tesouro Selic', 0.7, false], ['CDB Pós', 0.3, false]] :
                 (perfil === 'mod' ? [['LCI/LCA', 0.4, true], ['IPCA+', 0.3, false], ['FIIs', 0.3, true]] :
                 [['Ações', 0.5, false], ['Dólar', 0.5, false]]);

        let html = "";
        let lucroLiquidoAcumulado = 0;

        data.forEach(item => {
            let pInicialAtivo = principalTotal * item[1];
            let mBrutoAtivo = pInicialAtivo * Math.pow((1 + taxaMensal), tMeses);
            let lucroBrutoAtivo = mBrutoAtivo - pInicialAtivo;
            
            let impostoAtivo = item[2] ? 0 : lucroBrutoAtivo * taxaIR;
            let lucroLiquidoAtivo = lucroBrutoAtivo - impostoAtivo;
            lucroLiquidoAcumulado += lucroLiquidoAtivo;
            
            html += `<div style="padding:12px 0; border-bottom:1px solid #111;">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <span style="font-size:14px; font-weight:bold;">${item[0]}</span>
                    <span style="color:var(--accent); font-weight:bold;">R$ ${(pInicialAtivo + lucroLiquidoAtivo).toLocaleString('pt-BR',{minimumFractionDigits:2})}</span>
                </div>
                <div style="display:flex; justify-content:space-between; margin-top:4px;">
                    <span class="initial-item">Inicial: R$ ${pInicialAtivo.toLocaleString('pt-BR',{minimumFractionDigits:2})}</span>
                    <span class="profit-item">+ Lucro: R$ ${lucroLiquidoAtivo.toLocaleString('pt-BR',{minimumFractionDigits:2})}</span>
                </div>
            </div>`;
        });

        document.getElementById('res-final').innerText = "R$ " + (principalTotal + lucroLiquidoAcumulado).toLocaleString('pt-BR',{minimumFractionDigits:2});
        document.getElementById('profit-total').innerText = "Lucro Líquido Total: R$ " + lucroLiquidoAcumulado.toLocaleString('pt-BR',{minimumFractionDigits:2});
        document.getElementById('dist-list').innerHTML = html;
    }

    window.onload = marketPulse;
</script>
</body>
</html>
